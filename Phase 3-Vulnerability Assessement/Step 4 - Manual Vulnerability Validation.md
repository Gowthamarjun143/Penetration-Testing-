# Step 4 - Manual Vulnerability Validation

## 4.1 SMB Null Session Enumeration

## Purpose
SMB null session enumeration is used to identify shared resources, users, and system information from a target host without requiring authentication.


## Why this tool is used
- To discover accessible SMB shares that allow anonymous access.
- To gather system and domain information such as users, groups, or network configuration.
- To identify misconfigurations that could enable unauthorized access or privilege escalation.

## Command
    smbclient -L 192.168.56.102 -N

## Output
        Anonymous login successful

        Sharename       Type      Comment
        ---------       ----      -------
        print$          Disk      Printer Drivers
        tmp             Disk      oh noes!
        opt             Disk
        IPC$            IPC       IPC Service (metasploitable server (Samba 3.0.20-Debian))
        ADMIN$          IPC       IPC Service (metasploitable server (Samba 3.0.20-Debian))

        Reconnecting with SMB1 for workgroup listing.
        Anonymous login successful

        Server               Comment
        ---------            -------

        Workgroup            Master
        ---------            -------
        WORKGROUP            METASPLOITABLE

## Findings 
- SMB service allows anonymous login (null session enabled).
- Several shares are accessible without authentication (tmp, opt, print$).
- Server is running Samba 3.0.20, which is known to have multiple vulnerabilities, including:
  - Remote code execution
  - Arbitrary file access
  - RPC-based vulnerabilities
- Workgroup enumeration succeeded using SMB1 protocol fallback.

## Interpretation 
- Allowing anonymous SMB sessions is a serious security misconfiguration.
- Attackers can list shared directories, read/write files (depending on permissions), and gather host information.
- The Samba version is outdated and vulnerable, making the host susceptible to public exploits such as CVE-2007-2447 (Samba username map script RCE).
- This significantly increases the attack surface for lateral movement and privilege escalation.

---

## 4.2 Banner Grabbing (FTP and HTTP)

## Purpose
Banner grabbing is used to obtain service information, such as software type and version, which helps in identifying potential vulnerabilities.

## Why this tool is used
- To determine the exact service/version running on ports like FTP (21) and HTTP (80).
- To identify outdated or vulnerable software that may be exploited.
- To verify open services and confirm attack surface exposure during pre-exploitation reconnaissance.

## Command
    nc -v 192.168.56.102 21
    nc -v 192.168.56.102 80

## Output 

    192.168.56.102: inverse host lookup failed: Unknown host
    (UNKNOWN) [192.168.56.102] 21 (ftp) open
    220 (vsFTPd 2.3.4)

    192.168.56.102: inverse host lookup failed: Unknown host
    (UNKNOWN) [192.168.56.102] 80 (http) open

## Findings
- Port 21 (FTP) is open and reveals:
  - 220 (vsFTPd 2.3.4)
  - This version is known to be vulnerable to a backdoor command execution exploit.
- Port 80 (HTTP) is open, confirming the presence of a running web server (Apache, discovered earlier in enumeration).
- Netcat successfully performed banner extraction without requiring full protocol interaction.

## Interpretation
- The FTP banner exposes an outdated and vulnerable version (vsFTPd 2.3.4).
  This version contains a deliberate backdoor, allowing remote attackers to obtain a root shell on port 6200.
- The open HTTP port indicates that the target is hosting web services, which may contain further vulnerabilities (identified earlier using WhatWeb and Searchsploit).
- Banner grabbing confirms the exposed service versions necessary for cross-matching with exploit databases, supporting further exploitation planning.



---
